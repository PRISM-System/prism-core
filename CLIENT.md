# PRISM Core Client Guide

PRISM Core ServerÏôÄ ÏÉÅÌò∏ÏûëÏö©ÌïòÎäî **Client Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò Í∞úÎ∞ú Í∞ÄÏù¥Îìú**ÏûÖÎãàÎã§. 
Ïù¥ Í∞ÄÏù¥ÎìúÎäî Server APIÎ•º ÌôúÏö©ÌïòÏó¨ Tool Îì±Î°ù, Agent Í¥ÄÎ¶¨, RAG Íµ¨ÌòÑ Îì±ÏùÑ ÏàòÌñâÌïòÎäî Client Í∞úÎ∞úÏûêÎ•º ÏúÑÌïú Í≤ÉÏûÖÎãàÎã§.

## üéØ Client Ï£ºÏöî Í∏∞Îä•

- **üîß Tool Îì±Î°ù**: ServerÏóê Îã§ÏñëÌïú ÌÉÄÏûÖÏùò ToolÏùÑ ÎèôÏ†ÅÏúºÎ°ú Îì±Î°ù
- **ü§ñ Agent Í¥ÄÎ¶¨**: Agent ÏÉùÏÑ±, Tool Ìï†Îãπ, Ïã§Ìñâ Í¥ÄÎ¶¨
- **üß† Vector DB ÌôúÏö©**: RAG Íµ¨ÌòÑÏùÑ ÏúÑÌïú Î¨∏ÏÑú Í¥ÄÎ¶¨ Î∞è Í≤ÄÏÉâ
- **üìä Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù**: ÏÇ∞ÏóÖ DB Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù Î∞è ÏãúÍ∞ÅÌôî
- **üîÑ ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏûêÎèôÌôî**: Multi-Agent ÌòëÏóÖ ÏãúÏä§ÌÖú Íµ¨Ï∂ï

## üèóÔ∏è Client ÏïÑÌÇ§ÌÖçÏ≤ò Í∂åÏû•ÏÇ¨Ìï≠

```
client-app/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ services/           # Server API ÌÜµÏã†
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prism_client.py    # PRISM Server API ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tool_service.py    # Tool Í¥ÄÎ¶¨ ÏÑúÎπÑÏä§
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agent_service.py   # Agent Í¥ÄÎ¶¨ ÏÑúÎπÑÏä§
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ vector_service.py  # Vector DB ÏÑúÎπÑÏä§
‚îÇ   ‚îú‚îÄ‚îÄ tools/              # Client Ï†ÑÏö© Tool Ï†ïÏùò
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ custom_tools.py    # ÏÇ¨Ïö©Ïûê Ï†ïÏùò Tool
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api_tools.py       # Ïô∏Î∂Ä API Tool
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analysis_tools.py  # Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù Tool
‚îÇ   ‚îú‚îÄ‚îÄ workflows/          # ÏõåÌÅ¨ÌîåÎ°úÏö∞ Ï†ïÏùò
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ manufacturing_flow.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ quality_check_flow.py
‚îÇ   ‚îú‚îÄ‚îÄ config/             # ÏÑ§Ï†ï Í¥ÄÎ¶¨
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tool_configs.py
‚îÇ   ‚îî‚îÄ‚îÄ utils/              # Ïú†Ìã∏Î¶¨Ìã∞
‚îÇ       ‚îú‚îÄ‚îÄ validators.py
‚îÇ       ‚îî‚îÄ‚îÄ formatters.py
‚îú‚îÄ‚îÄ examples/               # ÏÇ¨Ïö© ÏòàÏ†ú
‚îú‚îÄ‚îÄ tests/                 # ÌÖåÏä§Ìä∏
‚îî‚îÄ‚îÄ requirements.txt       # Client ÏùòÏ°¥ÏÑ±
```

## üöÄ Client Í∞úÎ∞ú ÏãúÏûëÌïòÍ∏∞

### 1. PRISM Server Ïó∞Í≤∞ ÏÑ§Ï†ï

```python
# src/services/prism_client.py
import requests
from typing import Dict, Any, List, Optional

class PRISMClient:
    """PRISM Core Server API ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏"""
    
    def __init__(self, base_url: str = "http://localhost:8000"):
        self.base_url = base_url
        self.session = requests.Session()
    
    def health_check(self) -> Dict[str, Any]:
        """ÏÑúÎ≤Ñ ÏÉÅÌÉú ÌôïÏù∏"""
        response = self.session.get(f"{self.base_url}/")
        return response.json()
    
    # Tool Í¥ÄÎ†® Î©îÏÑúÎìúÎì§
    def list_tools(self) -> List[Dict[str, Any]]:
        """Îì±Î°ùÎêú Tool Î™©Î°ù Ï°∞Ìöå"""
        response = self.session.get(f"{self.base_url}/api/tools")
        return response.json()
    
    def register_tool(self, tool_config: Dict[str, Any]) -> Dict[str, Any]:
        """ÏÉàÎ°úÏö¥ Tool Îì±Î°ù"""
        response = self.session.post(
            f"{self.base_url}/api/tools/register",
            json=tool_config
        )
        return response.json()
    
    def execute_tool(self, tool_name: str, parameters: Dict[str, Any]) -> Dict[str, Any]:
        """Tool Ïã§Ìñâ"""
        response = self.session.post(
            f"{self.base_url}/api/tools/execute",
            json={"tool_name": tool_name, "parameters": parameters}
        )
        return response.json()
    
    # Agent Í¥ÄÎ†® Î©îÏÑúÎìúÎì§
    def create_agent(self, agent_config: Dict[str, Any]) -> Dict[str, Any]:
        """ÏÉà Agent ÏÉùÏÑ±"""
        response = self.session.post(
            f"{self.base_url}/api/agents",
            json=agent_config
        )
        return response.json()
    
    def invoke_agent(self, agent_name: str, prompt: str, use_tools: bool = True) -> Dict[str, Any]:
        """Agent Ïã§Ìñâ"""
        response = self.session.post(
            f"{self.base_url}/api/agents/{agent_name}/invoke",
            json={
                "prompt": prompt,
                "use_tools": use_tools,
                "max_tokens": 200,
                "temperature": 0.3
            }
        )
        return response.json()
```

### 2. Tool Í¥ÄÎ¶¨ ÏÑúÎπÑÏä§

```python
# src/services/tool_service.py
from typing import Dict, Any, List
from .prism_client import PRISMClient

class ToolService:
    """Tool Í¥ÄÎ¶¨ Ï†ÑÏö© ÏÑúÎπÑÏä§"""
    
    def __init__(self, client: PRISMClient):
        self.client = client
    
    def register_api_tool(self, name: str, description: str, api_config: Dict[str, Any]) -> bool:
        """API Tool Îì±Î°ù"""
        tool_config = {
            "name": name,
            "description": description,
            "parameters_schema": {
                "type": "object",
                "properties": {
                    "url": {"type": "string", "description": "API URL"},
                    "method": {"type": "string", "default": "GET"},
                    "headers": {"type": "object", "description": "Request headers"},
                    "data": {"type": "object", "description": "Request data"}
                },
                "required": ["url"]
            },
            "tool_type": "api",
            "config": api_config
        }
        
        result = self.client.register_tool(tool_config)
        return result.get("success", False)
    
    def register_calculation_tool(self, name: str, description: str) -> bool:
        """Í≥ÑÏÇ∞ Tool Îì±Î°ù"""
        tool_config = {
            "name": name,
            "description": description,
            "parameters_schema": {
                "type": "object",
                "properties": {
                    "expression": {"type": "string", "description": "ÏàòÌïô ÌëúÌòÑÏãù"},
                    "variables": {"type": "object", "description": "Î≥ÄÏàò ÎîïÏÖîÎÑàÎ¶¨"}
                },
                "required": ["expression"]
            },
            "tool_type": "calculation"
        }
        
        result = self.client.register_tool(tool_config)
        return result.get("success", False)
    
    def register_custom_tool_with_code(self, name: str, description: str, function_code: str) -> bool:
        """ÏÇ¨Ïö©Ïûê Ï†ïÏùò Ìï®Ïàò Tool Îì±Î°ù"""
        tool_config = {
            "name": name,
            "description": description,
            "parameters_schema": {
                "type": "object",
                "properties": {
                    "action": {"type": "string", "enum": ["execute_function"]},
                    "function_params": {"type": "object"}
                },
                "required": ["action"]
            },
            "tool_type": "custom",
            "function_code": function_code
        }
        
        # register-with-code ÏóîÎìúÌè¨Ïù∏Ìä∏ ÏÇ¨Ïö©
        response = self.client.session.post(
            f"{self.client.base_url}/api/tools/register-with-code",
            json=tool_config
        )
        result = response.json()
        return result.get("success", False)
```

### 3. Agent Í¥ÄÎ¶¨ ÏÑúÎπÑÏä§

```python
# src/services/agent_service.py
from typing import Dict, Any, List
from .prism_client import PRISMClient

class AgentService:
    """Agent Í¥ÄÎ¶¨ Ï†ÑÏö© ÏÑúÎπÑÏä§"""
    
    def __init__(self, client: PRISMClient):
        self.client = client
    
    def create_manufacturing_analyst(self, tools: List[str] = None) -> str:
        """Ï†úÏ°∞ Î∂ÑÏÑù Ï†ÑÎ¨∏Í∞Ä Agent ÏÉùÏÑ±"""
        if tools is None:
            tools = ["database_tool"]
        
        agent_config = {
            "name": "manufacturing_analyst",
            "description": "Ï†úÏ°∞ Í≥µÏ†ï Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù Ï†ÑÎ¨∏Í∞Ä",
            "role_prompt": """
            ÎãπÏã†ÏùÄ Î∞òÎèÑÏ≤¥ Ï†úÏ°∞ Í≥µÏ†ïÏùò Ïù¥ÏÉÅ ÌÉêÏßÄ Ï†ÑÎ¨∏Í∞ÄÏûÖÎãàÎã§. 
            ÏÇ¨Ïö©ÏûêÏùò ÏßàÎ¨∏Ïóê ÎåÄÌï¥ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Î•º ÌôúÏö©ÌïòÏó¨ Ï†ÑÎ¨∏Ï†ÅÏù¥Í≥† Î™ÖÌôïÌïú ÎãµÎ≥ÄÏùÑ Ï†úÍ≥µÌï¥Ï£ºÏÑ∏Ïöî.
            Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù Í≤∞Í≥ºÎ•º Î∞îÌÉïÏúºÎ°ú Íµ¨Ï≤¥Ï†ÅÏù∏ Í∞úÏÑ† Î∞©ÏïàÏùÑ Ï†úÏãúÌï¥Ï£ºÏÑ∏Ïöî.
            """,
            "tools": tools
        }
        
        result = self.client.create_agent(agent_config)
        return result.get("message", "")
    
    def create_multi_tool_analyst(self, tools: List[str]) -> str:
        """Îã§Ï§ë Tool Î∂ÑÏÑùÍ∞Ä Agent ÏÉùÏÑ±"""
        agent_config = {
            "name": "multi_tool_analyst",
            "description": "Îã§ÏñëÌïú ÎèÑÍµ¨Î•º ÌôúÏö©ÌïòÎäî Î∂ÑÏÑù Ï†ÑÎ¨∏Í∞Ä",
            "role_prompt": """
            ÎãπÏã†ÏùÄ Îã§ÏñëÌïú ÎèÑÍµ¨Î•º ÌôúÏö©ÌïòÏó¨ ÏÇ¨Ïö©ÏûêÏùò ÏöîÏ≤≠ÏùÑ Ï≤òÎ¶¨ÌïòÎäî Î∂ÑÏÑù Ï†ÑÎ¨∏Í∞ÄÏûÖÎãàÎã§.
            ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÎèÑÍµ¨Îì§ÏùÑ Ï†ÅÏ†àÌûà Ï°∞Ìï©ÌïòÏó¨ ÏµúÏ†ÅÏùò Í≤∞Í≥ºÎ•º Ï†úÍ≥µÌï¥Ï£ºÏÑ∏Ïöî.
            """,
            "tools": tools
        }
        
        result = self.client.create_agent(agent_config)
        return result.get("message", "")
    
    def query_agent(self, agent_name: str, question: str) -> Dict[str, Any]:
        """AgentÏóêÍ≤å ÏßàÎ¨∏ÌïòÍ≥† Í≤∞Í≥º Î∞õÍ∏∞"""
        result = self.client.invoke_agent(agent_name, question, use_tools=True)
        
        return {
            "answer": result.get("response", ""),
            "tools_used": result.get("tools_used", []),
            "tool_results": result.get("tool_results", {}),
            "execution_time": result.get("execution_time_ms", 0)
        }
```

### 4. Vector DB ÌôúÏö© ÏÑúÎπÑÏä§

```python
# src/services/vector_service.py
from typing import Dict, Any, List
from .prism_client import PRISMClient

class VectorService:
    """Vector DB Í¥ÄÎ¶¨ ÏÑúÎπÑÏä§"""
    
    def __init__(self, client: PRISMClient):
        self.client = client
    
    def create_document_index(self, class_name: str, encoder_model: str = "intfloat/multilingual-e5-base") -> bool:
        """Î¨∏ÏÑú Ïù∏Îç±Ïä§ ÏÉùÏÑ±"""
        index_config = {
            "class_name": class_name,
            "description": f"Document index for {class_name}",
            "vector_dimension": 768,
            "encoder_model": encoder_model,
            "distance_metric": "cosine"
        }
        
        response = self.client.session.post(
            f"{self.client.base_url}/vector-db/indices",
            json=index_config
        )
        result = response.json()
        return result.get("success", False)
    
    def add_documents(self, class_name: str, documents: List[Dict[str, Any]], encoder_model: str = None) -> Dict[str, Any]:
        """Î¨∏ÏÑú Î∞∞Ïπò Ï∂îÍ∞Ä"""
        params = {"encoder_model": encoder_model} if encoder_model else {}
        
        response = self.client.session.post(
            f"{self.client.base_url}/vector-db/documents/{class_name}/batch",
            json=documents,
            params=params
        )
        return response.json()
    
    def search_documents(self, class_name: str, query: str, limit: int = 5, threshold: float = 0.7) -> List[Dict[str, Any]]:
        """Î¨∏ÏÑú Í≤ÄÏÉâ"""
        search_query = {
            "query": query,
            "limit": limit,
            "threshold": threshold,
            "include_metadata": True
        }
        
        response = self.client.session.post(
            f"{self.client.base_url}/vector-db/search/{class_name}",
            json=search_query
        )
        return response.json()
    
    def implement_rag(self, class_name: str, question: str, agent_name: str = "manufacturing_analyst") -> Dict[str, Any]:
        """RAG Íµ¨ÌòÑ - Í≤ÄÏÉâ + ÏÉùÏÑ±"""
        # 1. Í¥ÄÎ†® Î¨∏ÏÑú Í≤ÄÏÉâ
        search_results = self.search_documents(class_name, question)
        
        if not search_results:
            return {"answer": "Í¥ÄÎ†® Î¨∏ÏÑúÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.", "sources": []}
        
        # 2. Ïª®ÌÖçÏä§Ìä∏ Íµ¨ÏÑ±
        context = "\n\n".join([result["content"] for result in search_results[:3]])
        
        # 3. AgentÏóêÍ≤å Ïª®ÌÖçÏä§Ìä∏ÏôÄ Ìï®Íªò ÏßàÎ¨∏
        enhanced_prompt = f"""
        Îã§Ïùå Î¨∏ÏÑúÎì§ÏùÑ Ï∞∏Í≥†ÌïòÏó¨ ÏßàÎ¨∏Ïóê ÎãµÎ≥ÄÌï¥Ï£ºÏÑ∏Ïöî:
        
        {context}
        
        ÏßàÎ¨∏: {question}
        """
        
        # 4. Agent Ïã§Ìñâ
        agent_result = self.client.invoke_agent(agent_name, enhanced_prompt, use_tools=False)
        
        return {
            "answer": agent_result.get("response", ""),
            "sources": [result.get("source", "") for result in search_results[:3]],
            "relevance_scores": [result.get("score", 0) for result in search_results[:3]],
            "context_used": len(search_results)
        }
```

## üîß Client Tool Í∞úÎ∞ú ÏòàÏ†ú

### 1. Ïô∏Î∂Ä API Tool

```python
# src/tools/api_tools.py
from src.services.tool_service import ToolService

class WeatherAPITool:
    """ÎÇ†Ïî® API Tool"""
    
    @staticmethod
    def register(tool_service: ToolService, api_key: str) -> bool:
        """ÎÇ†Ïî® API Tool Îì±Î°ù"""
        api_config = {
            "base_url": "https://api.openweathermap.org/data/2.5",
            "api_key": api_key,
            "timeout": 10
        }
        
        return tool_service.register_api_tool(
            name="weather_api_tool",
            description="Get current weather information from OpenWeatherMap API",
            api_config=api_config
        )

class DatabaseAPITool:
    """Ïô∏Î∂Ä Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ API Tool"""
    
    @staticmethod
    def register(tool_service: ToolService, db_config: dict) -> bool:
        """Ïô∏Î∂Ä DB API Tool Îì±Î°ù"""
        return tool_service.register_api_tool(
            name="external_db_tool",
            description="Access external database via REST API",
            api_config=db_config
        )
```

### 2. ÏÇ¨Ïö©Ïûê Ï†ïÏùò Î∂ÑÏÑù Tool

```python
# src/tools/analysis_tools.py
from src.services.tool_service import ToolService

class StatisticalAnalysisTool:
    """ÌÜµÍ≥Ñ Î∂ÑÏÑù Tool"""
    
    @staticmethod
    def register(tool_service: ToolService) -> bool:
        """ÌÜµÍ≥Ñ Î∂ÑÏÑù Tool Îì±Î°ù"""
        function_code = '''
def main():
    import math
    import statistics
    
    def analyze_data(data):
        """Îç∞Ïù¥ÌÑ∞ ÌÜµÍ≥Ñ Î∂ÑÏÑù"""
        if not data or not isinstance(data, list):
            return {"error": "Invalid data format"}
        
        try:
            result = {
                "count": len(data),
                "mean": statistics.mean(data),
                "median": statistics.median(data),
                "std_dev": statistics.stdev(data) if len(data) > 1 else 0,
                "min": min(data),
                "max": max(data),
                "range": max(data) - min(data)
            }
            
            # Ïù¥ÏÉÅÏπò ÌÉêÏßÄ (IQR Î∞©Î≤ï)
            q1 = statistics.quantiles(data, n=4)[0]
            q3 = statistics.quantiles(data, n=4)[2]
            iqr = q3 - q1
            lower_bound = q1 - 1.5 * iqr
            upper_bound = q3 + 1.5 * iqr
            
            outliers = [x for x in data if x < lower_bound or x > upper_bound]
            result["outliers"] = outliers
            result["outlier_count"] = len(outliers)
            
            return result
            
        except Exception as e:
            return {"error": str(e)}
    
    # Í∏∞Î≥∏ ÌÖåÏä§Ìä∏ Îç∞Ïù¥ÌÑ∞Î°ú Î∂ÑÏÑù ÏàòÌñâ
    test_data = [1, 2, 3, 4, 5, 10, 15, 20, 25, 30, 100]  # 100ÏùÄ Ïù¥ÏÉÅÏπò
    analysis_result = analyze_data(test_data)
    
    return {
        "analysis_completed": True,
        "result": analysis_result,
        "message": "Statistical analysis completed successfully"
    }
'''
        
        return tool_service.register_custom_tool_with_code(
            name="statistical_analyzer",
            description="Perform statistical analysis on numerical data including outlier detection",
            function_code=function_code
        )

class QualityControlTool:
    """ÌíàÏßà Í¥ÄÎ¶¨ Tool"""
    
    @staticmethod
    def register(tool_service: ToolService) -> bool:
        """ÌíàÏßà Í¥ÄÎ¶¨ Tool Îì±Î°ù"""
        function_code = '''
def main():
    def quality_check(measurements, spec_limits):
        """ÌíàÏßà Í¥ÄÎ¶¨ Ï≤¥ÌÅ¨"""
        if not measurements or not spec_limits:
            return {"error": "Missing data"}
        
        lower_limit = spec_limits.get("lower", float("-inf"))
        upper_limit = spec_limits.get("upper", float("inf"))
        
        passed = []
        failed = []
        
        for measurement in measurements:
            if lower_limit <= measurement <= upper_limit:
                passed.append(measurement)
            else:
                failed.append(measurement)
        
        pass_rate = len(passed) / len(measurements) * 100
        
        return {
            "total_measurements": len(measurements),
            "passed": len(passed),
            "failed": len(failed),
            "pass_rate": round(pass_rate, 2),
            "failed_measurements": failed,
            "status": "PASS" if pass_rate >= 95 else "FAIL"
        }
    
    # ÏòàÏ†ú Îç∞Ïù¥ÌÑ∞Î°ú ÌíàÏßà Ï≤¥ÌÅ¨
    sample_measurements = [9.8, 10.1, 9.9, 10.2, 9.7, 10.3, 9.6]
    sample_spec = {"lower": 9.5, "upper": 10.5}
    
    result = quality_check(sample_measurements, sample_spec)
    
    return {
        "quality_check_completed": True,
        "result": result,
        "message": "Quality control analysis completed"
    }
'''
        
        return tool_service.register_custom_tool_with_code(
            name="quality_control_tool",
            description="Perform quality control analysis on manufacturing measurements",
            function_code=function_code
        )
```

## üîÑ Client ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏòàÏ†ú

### 1. Ï†úÏ°∞ Í≥µÏ†ï Î™®ÎãàÌÑ∞ÎßÅ ÏõåÌÅ¨ÌîåÎ°úÏö∞

```python
# src/workflows/manufacturing_flow.py
from src.services.prism_client import PRISMClient
from src.services.tool_service import ToolService
from src.services.agent_service import AgentService
from src.tools.analysis_tools import StatisticalAnalysisTool, QualityControlTool

class ManufacturingWorkflow:
    """Ï†úÏ°∞ Í≥µÏ†ï Î™®ÎãàÌÑ∞ÎßÅ ÏõåÌÅ¨ÌîåÎ°úÏö∞"""
    
    def __init__(self, server_url: str = "http://localhost:8000"):
        self.client = PRISMClient(server_url)
        self.tool_service = ToolService(self.client)
        self.agent_service = AgentService(self.client)
    
    def setup_workflow(self) -> bool:
        """ÏõåÌÅ¨ÌîåÎ°úÏö∞ Ï¥àÍ∏∞ ÏÑ§Ï†ï"""
        # 1. ÌïÑÏöîÌïú ToolÎì§ Îì±Î°ù
        tools_registered = []
        
        # ÌÜµÍ≥Ñ Î∂ÑÏÑù Tool Îì±Î°ù
        if StatisticalAnalysisTool.register(self.tool_service):
            tools_registered.append("statistical_analyzer")
            print("‚úÖ Statistical Analysis Tool registered")
        
        # ÌíàÏßà Í¥ÄÎ¶¨ Tool Îì±Î°ù
        if QualityControlTool.register(self.tool_service):
            tools_registered.append("quality_control_tool")
            print("‚úÖ Quality Control Tool registered")
        
        # Í∏∞Î≥∏ DB Tool Ï∂îÍ∞Ä
        tools_registered.append("database_tool")
        
        # 2. Ï†ÑÎ¨∏ Agent ÏÉùÏÑ±
        agent_result = self.agent_service.create_multi_tool_analyst(tools_registered)
        print(f"‚úÖ Multi-tool analyst created: {agent_result}")
        
        return len(tools_registered) > 0
    
    def monitor_process(self, process_id: str) -> Dict[str, Any]:
        """ÌäπÏ†ï Í≥µÏ†ï Î™®ÎãàÌÑ∞ÎßÅ"""
        query = f"""
        Í≥µÏ†ï ID {process_id}Ïùò ÏµúÍ∑º ÏÉÅÌÉúÎ•º Î∂ÑÏÑùÌï¥Ï£ºÏÑ∏Ïöî.
        Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ÏóêÏÑú Í¥ÄÎ†® Ï†ïÎ≥¥Î•º Ï°∞ÌöåÌïòÍ≥†, ÌÜµÍ≥Ñ Î∂ÑÏÑùÍ≥º ÌíàÏßà Í¥ÄÎ¶¨ Ï≤¥ÌÅ¨Î•º ÏàòÌñâÌï¥Ï£ºÏÑ∏Ïöî.
        """
        
        result = self.agent_service.query_agent("multi_tool_analyst", query)
        
        return {
            "process_id": process_id,
            "analysis_result": result["answer"],
            "tools_used": result["tools_used"],
            "execution_time": result["execution_time"]
        }
    
    def daily_quality_report(self) -> Dict[str, Any]:
        """ÏùºÏùº ÌíàÏßà Î≥¥Í≥†ÏÑú ÏÉùÏÑ±"""
        query = """
        Ïò§ÎäòÏùò Ï†ÑÏ≤¥ Ï†úÏ°∞ Í≥µÏ†ï ÌíàÏßà ÏÉÅÌÉúÎ•º Î∂ÑÏÑùÌï¥Ï£ºÏÑ∏Ïöî.
        1. Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ÏóêÏÑú Ïò§ÎäòÏùò LOT Îç∞Ïù¥ÌÑ∞ Ï°∞Ìöå
        2. Í∞Å Í≥µÏ†ïÎ≥Ñ ÌÜµÍ≥Ñ Î∂ÑÏÑù ÏàòÌñâ
        3. ÌíàÏßà Í¥ÄÎ¶¨ Í∏∞Ï§Ä ÎåÄÎπÑ ÌèâÍ∞Ä
        4. Ïù¥ÏÉÅ ÏÉÅÌô©Ïù¥ ÏûàÎã§Î©¥ ÏõêÏù∏ Î∂ÑÏÑù Î∞è Í∞úÏÑ† Î∞©Ïïà Ï†úÏãú
        """
        
        result = self.agent_service.query_agent("multi_tool_analyst", query)
        
        return {
            "date": "today",
            "quality_report": result["answer"],
            "tools_used": result["tools_used"],
            "recommendations": "ÌíàÏßà Í∞úÏÑ† Í∂åÏû•ÏÇ¨Ìï≠Ïù¥ Ìè¨Ìï®Îê®"
        }
```

### 2. RAG Í∏∞Î∞ò ÏßÄÏãù Í¥ÄÎ¶¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞

```python
# src/workflows/knowledge_management.py
from src.services.prism_client import PRISMClient
from src.services.vector_service import VectorService

class KnowledgeManagementWorkflow:
    """RAG Í∏∞Î∞ò ÏßÄÏãù Í¥ÄÎ¶¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞"""
    
    def __init__(self, server_url: str = "http://localhost:8000"):
        self.client = PRISMClient(server_url)
        self.vector_service = VectorService(self.client)
    
    def setup_knowledge_base(self, documents: List[Dict[str, Any]]) -> bool:
        """ÏßÄÏãù Î≤†Ïù¥Ïä§ Íµ¨Ï∂ï"""
        # 1. Î¨∏ÏÑú Ïù∏Îç±Ïä§ ÏÉùÏÑ±
        if not self.vector_service.create_document_index("ManufacturingDocs"):
            return False
        
        # 2. Î¨∏ÏÑúÎì§ Î∞∞Ïπò Ï∂îÍ∞Ä
        result = self.vector_service.add_documents(
            "ManufacturingDocs", 
            documents, 
            encoder_model="intfloat/multilingual-e5-base"
        )
        
        return result.get("success", False)
    
    def query_knowledge_base(self, question: str) -> Dict[str, Any]:
        """ÏßÄÏãù Î≤†Ïù¥Ïä§ ÏßàÏùò"""
        return self.vector_service.implement_rag(
            class_name="ManufacturingDocs",
            question=question,
            agent_name="manufacturing_analyst"
        )
    
    def add_new_knowledge(self, document: Dict[str, Any]) -> bool:
        """ÏÉàÎ°úÏö¥ ÏßÄÏãù Ï∂îÍ∞Ä"""
        result = self.vector_service.add_documents("ManufacturingDocs", [document])
        return result.get("success", False)
```

## üìä Client ÏÇ¨Ïö© ÏòàÏ†ú

### ÏôÑÏ†ÑÌïú Client Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò ÏòàÏ†ú

```python
# examples/manufacturing_client.py
from src.services.prism_client import PRISMClient
from src.workflows.manufacturing_flow import ManufacturingWorkflow
from src.workflows.knowledge_management import KnowledgeManagementWorkflow

def main():
    """Ï†úÏ°∞ÏóÖ Client Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò Î©îÏù∏"""
    
    # 1. ÏÑúÎ≤Ñ Ïó∞Í≤∞ ÌôïÏù∏
    client = PRISMClient("http://localhost:8000")
    health = client.health_check()
    print(f"üöÄ Server Status: {health}")
    
    # 2. Ï†úÏ°∞ ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏÑ§Ï†ï
    manufacturing_flow = ManufacturingWorkflow()
    if manufacturing_flow.setup_workflow():
        print("‚úÖ Manufacturing workflow setup completed")
    
    # 3. ÏßÄÏãù Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú ÏÑ§Ï†ï
    knowledge_flow = KnowledgeManagementWorkflow()
    
    # ÏÉòÌîå Î¨∏ÏÑú Îç∞Ïù¥ÌÑ∞
    sample_docs = [
        {
            "content": "Î∞òÎèÑÏ≤¥ Ï†úÏ°∞ÏóêÏÑú CVD Í≥µÏ†ïÏùÄ ÌôîÌïô Í∏∞ÏÉÅ Ï¶ùÏ∞©ÏùÑ ÌÜµÌï¥ Î∞ïÎßâÏùÑ ÌòïÏÑ±ÌïòÎäî Ï§ëÏöîÌïú Í≥µÏ†ïÏûÖÎãàÎã§.",
            "title": "CVD Í≥µÏ†ï Í∞úÏöî",
            "source": "manufacturing_handbook.pdf",
            "metadata": {"category": "process", "department": "fab"}
        },
        {
            "content": "ÌíàÏßà Í¥ÄÎ¶¨ÏóêÏÑú SPC(Statistical Process Control)Îäî Í≥µÏ†ï Î≥ÄÎèôÏùÑ Î™®ÎãàÌÑ∞ÎßÅÌïòÎäî ÌïµÏã¨ Î∞©Î≤ïÏûÖÎãàÎã§.",
            "title": "SPC ÌíàÏßà Í¥ÄÎ¶¨",
            "source": "quality_manual.pdf", 
            "metadata": {"category": "quality", "department": "qc"}
        }
    ]
    
    if knowledge_flow.setup_knowledge_base(sample_docs):
        print("‚úÖ Knowledge base setup completed")
    
    # 4. Ïã§Ï†ú ÏóÖÎ¨¥ ÏãúÎÇòÎ¶¨Ïò§ ÌÖåÏä§Ìä∏
    print("\n" + "="*50)
    print("üìä Manufacturing Process Analysis")
    print("="*50)
    
    # Í≥µÏ†ï Î™®ÎãàÌÑ∞ÎßÅ
    process_result = manufacturing_flow.monitor_process("PROC_001")
    print(f"Process Analysis Result:\n{process_result['analysis_result']}")
    
    # ÏùºÏùº ÌíàÏßà Î≥¥Í≥†ÏÑú
    quality_report = manufacturing_flow.daily_quality_report()
    print(f"\nDaily Quality Report:\n{quality_report['quality_report']}")
    
    # 5. ÏßÄÏãù Î≤†Ïù¥Ïä§ ÌôúÏö©
    print("\n" + "="*50)
    print("üß† Knowledge Base Query")
    print("="*50)
    
    knowledge_query = "CVD Í≥µÏ†ïÏóêÏÑú ÌíàÏßà Í¥ÄÎ¶¨Îäî Ïñ¥ÎñªÍ≤å Ìï¥Ïïº ÌïòÎÇòÏöî?"
    knowledge_result = knowledge_flow.query_knowledge_base(knowledge_query)
    
    print(f"Question: {knowledge_query}")
    print(f"Answer: {knowledge_result['answer']}")
    print(f"Sources: {knowledge_result['sources']}")

if __name__ == "__main__":
    main()
```

## üîß Client ÏÑ§Ï†ï Í¥ÄÎ¶¨

```python
# src/config/settings.py
from typing import Dict, Any
import os

class ClientSettings:
    """Client ÏÑ§Ï†ï Í¥ÄÎ¶¨"""
    
    # Server Ïó∞Í≤∞ ÏÑ§Ï†ï
    PRISM_SERVER_URL = os.getenv("PRISM_SERVER_URL", "http://localhost:8000")
    WEAVIATE_URL = os.getenv("WEAVIATE_URL", "http://localhost:8080")
    
    # Tool ÏÑ§Ï†ï
    DEFAULT_ENCODER_MODEL = "intfloat/multilingual-e5-base"
    DEFAULT_VECTOR_DIMENSION = 768
    
    # API ÌÇ§ ÏÑ§Ï†ï (ÌïÑÏöîÌïú Í≤ΩÏö∞)
    OPENWEATHER_API_KEY = os.getenv("OPENWEATHER_API_KEY", "")
    OPENAI_API_KEY = os.getenv("OPENAI_API_KEY", "")
    
    # ÌíàÏßà Í¥ÄÎ¶¨ Í∏∞Ï§Ä
    QUALITY_THRESHOLDS = {
        "pass_rate_minimum": 95.0,
        "outlier_threshold": 1.5,
        "control_limit_sigma": 3.0
    }
    
    @classmethod
    def get_tool_config(cls, tool_type: str) -> Dict[str, Any]:
        """Tool ÌÉÄÏûÖÎ≥Ñ Í∏∞Î≥∏ ÏÑ§Ï†ï Î∞òÌôò"""
        configs = {
            "weather_api": {
                "api_key": cls.OPENWEATHER_API_KEY,
                "base_url": "https://api.openweathermap.org/data/2.5",
                "timeout": 10
            },
            "quality_control": {
                "thresholds": cls.QUALITY_THRESHOLDS
            },
            "vector_db": {
                "encoder_model": cls.DEFAULT_ENCODER_MODEL,
                "vector_dimension": cls.DEFAULT_VECTOR_DIMENSION
            }
        }
        
        return configs.get(tool_type, {})
```

## üìã Client Í∞úÎ∞ú Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏

### ‚úÖ Í∞úÎ∞ú Îã®Í≥ÑÎ≥Ñ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏

**1. Í∏∞Î≥∏ ÏÑ§Ï†ï**
- [ ] PRISM Server Ïó∞Í≤∞ ÌôïÏù∏
- [ ] API ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Íµ¨ÌòÑ
- [ ] ÌôòÍ≤Ω Î≥ÄÏàò ÏÑ§Ï†ï
- [ ] Ïò§Î•ò Ï≤òÎ¶¨ Íµ¨ÌòÑ

**2. Tool Í∞úÎ∞ú**
- [ ] ÌïÑÏöîÌïú Tool ÌÉÄÏûÖ ÏãùÎ≥Ñ
- [ ] Tool Îì±Î°ù Ìï®Ïàò Íµ¨ÌòÑ
- [ ] Tool ÌÖåÏä§Ìä∏ Ïä§ÌÅ¨Î¶ΩÌä∏ ÏûëÏÑ±
- [ ] Tool ÏÑ§Ï†ï Í¥ÄÎ¶¨

**3. Agent ÌôúÏö©**
- [ ] ÏóÖÎ¨¥Î≥Ñ Agent ÏÑ§Í≥Ñ
- [ ] Agent-Tool Ïó∞Í≤∞ Íµ¨ÌòÑ
- [ ] ÌîÑÎ°¨ÌîÑÌä∏ ÏóîÏßÄÎãàÏñ¥ÎßÅ
- [ ] Í≤∞Í≥º Í≤ÄÏ¶ù Î°úÏßÅ

**4. ÏõåÌÅ¨ÌîåÎ°úÏö∞ Íµ¨Ï∂ï**
- [ ] ÏóÖÎ¨¥ ÌîÑÎ°úÏÑ∏Ïä§ Î∂ÑÏÑù
- [ ] ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÌÅ¥ÎûòÏä§ ÏÑ§Í≥Ñ
- [ ] ÏòàÏô∏ Ï≤òÎ¶¨ Íµ¨ÌòÑ
- [ ] ÏÑ±Îä• ÏµúÏ†ÅÌôî

**5. RAG Íµ¨ÌòÑ**
- [ ] Î¨∏ÏÑú ÏàòÏßë Î∞è Ï†ÑÏ≤òÎ¶¨
- [ ] Vector DB Ïù∏Îç±Ïä§ ÏÉùÏÑ±
- [ ] Í≤ÄÏÉâ ÌíàÏßà ÌèâÍ∞Ä
- [ ] ÎãµÎ≥Ä ÌíàÏßà Í≤ÄÏ¶ù

**6. ÌÖåÏä§Ìä∏ Î∞è Î∞∞Ìè¨**
- [ ] Îã®ÏúÑ ÌÖåÏä§Ìä∏ ÏûëÏÑ±
- [ ] ÌÜµÌï© ÌÖåÏä§Ìä∏ ÏàòÌñâ
- [ ] ÏÑ±Îä• ÌÖåÏä§Ìä∏
- [ ] Î∞∞Ìè¨ Ïä§ÌÅ¨Î¶ΩÌä∏ ÏûëÏÑ±

## üöÄ Client Î∞∞Ìè¨ Í∞ÄÏù¥Îìú

### DockerÎ•º ÌôúÏö©Ìïú Client Î∞∞Ìè¨

```dockerfile
# Dockerfile
FROM python:3.10-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install -r requirements.txt

COPY src/ ./src/
COPY examples/ ./examples/

CMD ["python", "examples/manufacturing_client.py"]
```

```yaml
# docker-compose.yml (ClientÏö©)
version: '3.8'

services:
  manufacturing-client:
    build: .
    environment:
      - PRISM_SERVER_URL=http://prism-server:8000
      - WEAVIATE_URL=http://weaviate:8080
    depends_on:
      - prism-server
    networks:
      - prism-network

networks:
  prism-network:
    external: true
```

---

**PRISM Core Client** - Í∞ïÎ†•Ìïú AI ÏÑúÎ≤ÑÏôÄ Ìï®ÍªòÌïòÎäî ÏßÄÎä•Ìòï Ï†úÏ°∞ ÌòÅÏã† ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ üéØ 